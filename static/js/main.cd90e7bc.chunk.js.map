{"version":3,"sources":["components/Paint/Paint.js","components/App/App.js","index.js"],"names":["generator","rough","createElement","x1","y1","x2","y2","type","roughElement","line","rectangle","Paint","React","useState","elements","setElements","drawing","setDrawing","elementType","setElementType","useLayoutEffect","canvas","document","querySelector","getContext","clearRect","width","height","roughCanvas","forEach","draw","handleChangeElementType","evt","value","target","typesElementsInputsMarkup","id","label","inputClassName","labelClassName","map","item","className","checked","onChange","window","innerWidth","innerHeight","onMouseDown","clientX","clientY","element","prevState","onMouseMove","console","log","index","length","updatedElement","elementsCopy","onMouseUp","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"+NAGMA,EAAYC,IAAMD,YAExB,SAASE,EAAcC,EAAIC,EAAIC,EAAIC,EAAIC,GACtC,IAAIC,EAEJ,OAAQD,GACP,IAAK,OACJC,EAAeR,EAAUS,KAAKN,EAAIC,EAAIC,EAAIC,GAC1C,MACD,IAAK,YACJE,EAAeR,EAAUU,UAAUP,EAAIC,EAAIC,EAAKF,EAAIG,EAAKF,GAK3D,MAAO,CAAED,KAAIC,KAAIC,KAAIC,KAAIE,gBAuHXG,MApHf,WAAkB,IAAD,EAEgBC,IAAMC,SAAS,IAF/B,mBAETC,EAFS,KAECC,EAFD,OAGcH,IAAMC,UAAS,GAH7B,mBAGTG,EAHS,KAGAC,EAHA,OAIsBL,IAAMC,SAAS,QAJrC,mBAITK,EAJS,KAIIC,EAJJ,KAMhBP,IAAMQ,iBAAgB,WACrB,IAAMC,EAASC,SAASC,cAAc,WACtBF,EAAOG,WAAW,MAC1BC,UAAU,EAAG,EAAGJ,EAAOK,MAAOL,EAAOM,QAE7C,IAAMC,EAAc3B,IAAMoB,OAAOA,GAEjCP,EAASe,SAAQ,gBAAGrB,EAAH,EAAGA,aAAH,OAAsBoB,EAAYE,KAAKtB,QACtD,CAACM,IAEJ,IAgCMiB,EAA0B,SAACC,GAChC,IACMC,EADSD,EAAIE,OACED,MACrBd,EAAec,IAsBVE,EAnB0B,CAC/B,CACCC,GAAI,EACJ7B,KAAM,QACN0B,MAAO,OACPI,MAAO,OACPC,eAAgB,eAChBC,eAAgB,gBAEjB,CACCH,GAAI,EACJ7B,KAAM,QACN0B,MAAO,YACPI,MAAO,YACPC,eAAgB,eAChBC,eAAgB,iBAIwCC,KAAI,SAACC,GAAD,OAC7D,wBAECC,UAAWD,EAAKF,eAFjB,UAIEE,EAAKJ,MACN,uBACC9B,KAAMkC,EAAKlC,KACXoC,QAASzB,IAAgBuB,EAAKR,MAC9BW,SAAUb,EACVE,MAAOQ,EAAKR,MACZS,UAAWD,EAAKH,mBATZG,EAAKL,OAcZ,OACC,sBACCM,UAAU,QADX,UAGC,2BACCA,UAAU,yBADX,UAGC,wBACCA,UAAU,uBADX,qBAKCP,KAEF,wBACCC,GAAG,SACHV,MAAOmB,OAAOC,WACdnB,OAAQkB,OAAOE,YACfC,YA3FqB,SAAChB,GACxBf,GAAW,GADqB,IAGxBgC,EAAqBjB,EAArBiB,QAASC,EAAYlB,EAAZkB,QAEXC,EAAUjD,EAAc+C,EAASC,EAASD,EAASC,EAAShC,GAElEH,GAAY,SAACqC,GAAD,4BAAmBA,GAAnB,CAA8BD,QAqFxCE,YAlFqB,SAACrB,GACxB,GAAIhB,EAAJ,CAGAsC,QAAQC,IAAIvB,GAJoB,IAMxBiB,EAAqBjB,EAArBiB,QAASC,EAAYlB,EAAZkB,QACXM,EAAQ1C,EAAS2C,OAAS,EAPA,EAQb3C,EAAS0C,GAEtBE,EAAiBxD,EAVS,EAQxBC,GARwB,EAQpBC,GAEiC6C,EAASC,EAAShC,GAEzDyC,EAAY,YAAO7C,GACzB6C,EAAaH,GAASE,EACtB3C,EAAY4C,KAqEVC,UAlEmB,SAAC5B,GACtBf,GAAW,UCjDE4C,MAXf,WAIE,OACE,qBAAKnB,UAAU,MAAf,SACE,cAAC,EAAD,OCNNoB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF1C,SAAS2C,eAAe,W","file":"static/js/main.cd90e7bc.chunk.js","sourcesContent":["import React from 'react';\nimport rough from 'roughjs/bundled/rough.esm';\n\nconst generator = rough.generator();\n\nfunction createElement(x1, y1, x2, y2, type) {\n\tlet roughElement;\n\n\tswitch (type) {\n\t\tcase 'line':\n\t\t\troughElement = generator.line(x1, y1, x2, y2);\n\t\t\tbreak;\n\t\tcase 'rectangle':\n\t\t\troughElement = generator.rectangle(x1, y1, x2 - x1, y2 - y1);\n\t\tdefault:\n\t\t\tbreak;\n\t};\n\n\treturn { x1, y1, x2, y2, roughElement };\n}\n\nfunction Paint() {\n\n\tconst [elements, setElements] = React.useState([]);\n\tconst [drawing, setDrawing] = React.useState(false);\n\tconst [elementType, setElementType] = React.useState('line');\n\n\tReact.useLayoutEffect(() => {\n\t\tconst canvas = document.querySelector('#canvas');\n\t\tconst context = canvas.getContext('2d');\n\t\tcontext.clearRect(0, 0, canvas.width, canvas.height);\n\n\t\tconst roughCanvas = rough.canvas(canvas);\n\n\t\telements.forEach(({ roughElement }) => roughCanvas.draw(roughElement));\n\t}, [elements]);\n\n\tconst handleMouseDown = (evt) => {\n\t\tsetDrawing(true);\n\n\t\tconst { clientX, clientY } = evt;\n\n\t\tconst element = createElement(clientX, clientY, clientX, clientY, elementType);\n\n\t\tsetElements((prevState) => [...prevState, element]);\n\t};\n\n\tconst handleMouseMove = (evt) => {\n\t\tif(!drawing) {\n\t\t\treturn;\n\t\t};\n\t\tconsole.log(evt)\n\n\t\tconst { clientX, clientY } = evt;\n\t\tconst index = elements.length - 1;\n\t\tconst { x1, y1 } = elements[index];\n\t\t\n\t\tconst updatedElement = createElement(x1, y1, clientX, clientY, elementType);\n\n\t\tconst elementsCopy = [...elements];\n\t\telementsCopy[index] = updatedElement;\n\t\tsetElements(elementsCopy);\n\t};\n\n\tconst handleMouseUp = (evt) => {\n\t\tsetDrawing(false);\n\t};\n\n\n\tconst handleChangeElementType = (evt) => {\n\t\tconst target = evt.target;\n\t\tconst value = target.value;\n\t\tsetElementType(value);\n\t}\n\n\tconst typesElementsInputsData = [\n\t\t{\n\t\t\tid: 1,\n\t\t\ttype: 'radio',\n\t\t\tvalue: 'line',\n\t\t\tlabel: 'Line',\n\t\t\tinputClassName: 'paint__input',\n\t\t\tlabelClassName: 'paint__label',\n\t\t},\n\t\t{\n\t\t\tid: 2,\n\t\t\ttype: 'radio',\n\t\t\tvalue: 'rectangle',\n\t\t\tlabel: 'Rectangle',\n\t\t\tinputClassName: 'paint__input',\n\t\t\tlabelClassName: 'paint__label',\n\t\t},\n\t];\n\n\tconst typesElementsInputsMarkup = typesElementsInputsData.map((item) => (\n\t\t<label\n\t\t\tkey={item.id}\n\t\t\tclassName={item.labelClassName}\n\t\t>\n\t\t\t{item.label}\n\t\t\t<input \n\t\t\t\ttype={item.type}\n\t\t\t\tchecked={elementType === item.value}\n\t\t\t\tonChange={handleChangeElementType}\n\t\t\t\tvalue={item.value}\n\t\t\t\tclassName={item.inputClassName}\n\t\t\t/>\n\t\t</label>\n\t));\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"paint\"\n\t\t>\n\t\t\t<fieldset\n\t\t\t\tclassName=\"paint__inputs-fieldset\"\n\t\t\t>\n\t\t\t\t<legend\n\t\t\t\t\tclassName=\"paint__inputs-legent\"\n\t\t\t\t>\n\t\t\t\t\tShapes:\n\t\t\t\t</legend>\n\t\t\t\t{typesElementsInputsMarkup}\n\t\t\t</fieldset>\n\t\t\t<canvas \n\t\t\t\tid='canvas'\n\t\t\t\twidth={window.innerWidth}\n\t\t\t\theight={window.innerHeight}\n\t\t\t\tonMouseDown={handleMouseDown}\n\t\t\t\tonMouseMove={handleMouseMove}\n\t\t\t\tonMouseUp={handleMouseUp}\n\t\t\t/>\n\t\t</div>\n\t\t\n\t)\n}\n\nexport default Paint;","import React from 'react';\n\nimport Paint from '../Paint/Paint';\n\n\nfunction App() {\n\n\n\n  return (\n    <div className=\"App\">\n      <Paint />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}