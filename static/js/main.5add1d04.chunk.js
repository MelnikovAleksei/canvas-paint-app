(this["webpackJsonpcanvas-paint-app"]=this["webpackJsonpcanvas-paint-app"]||[]).push([[0],{14:function(e,a,t){},16:function(e,a,t){"use strict";t.r(a);var n=t(3),i=t.n(n),c=t(9),l=t.n(c),s=(t(14),t(8)),r=t(0),u=t(1),o=t(7),p=t(2),v=o.a.generator();function d(e,a,t,n,i,c){var l;switch(c){case"line":l=v.line(a,t,n,i);break;case"rectangle":l=v.rectangle(a,t,n-a,i-t)}return{id:e,x1:a,y1:t,x2:n,y2:i,type:c,roughElement:l}}var f=function(e,a){return Math.sqrt(Math.pow(e.x-a.x,2)+Math.pow(e.y-a.y,2))},h=function(e,a,t){return t.find((function(t){return function(e,a,t){var n=t.type,i=t.x1,c=t.x2,l=t.y1,s=t.y2;switch(n){case"rectangle":var r=Math.min(i,c),u=Math.max(i,c),o=Math.min(l,s),p=Math.max(l,s);return e>=r&&e<=u&&a>=o&&a<=p;case"line":var v={x:i,y:l},d={x:c,y:s},h={x:e,y:a},b=f(v,d)-(f(v,h)+f(d,h));return Math.abs(b)<1}}(e,a,t)}))};var b=function(){var e=i.a.useState([]),a=Object(u.a)(e,2),t=a[0],n=a[1],c=i.a.useState("none"),l=Object(u.a)(c,2),v=l[0],f=l[1],b=i.a.useState("line"),j=Object(u.a)(b,2),m=j[0],x=j[1],y=i.a.useState(null),g=Object(u.a)(y,2),O=g[0],w=g[1];i.a.useLayoutEffect((function(){var e=document.querySelector("#canvas");e.getContext("2d").clearRect(0,0,e.width,e.height);var a=o.a.canvas(e);t.forEach((function(e){var t=e.roughElement;return a.draw(t)}))}),[t]);var _=function(e,a,i,c,l,s){var u=d(e,a,i,c,l,s),o=Object(r.a)(t);o[e]=u,n(o)},N=function(e){var a=e.target.value;x(a)},M=[{id:1,type:"radio",value:"line",label:"Line",inputClassName:"paint__input",labelClassName:"paint__label"},{id:2,type:"radio",value:"rectangle",label:"Rectangle",inputClassName:"paint__input",labelClassName:"paint__label"},{id:3,type:"radio",value:"selection",label:"Selection",inputClassName:"paint__input",labelClassName:"paint__label"}].map((function(e){return Object(p.jsxs)("label",{className:e.labelClassName,children:[e.label,Object(p.jsx)("input",{type:e.type,checked:m===e.value,onChange:N,value:e.value,className:e.inputClassName})]},e.id)}));return Object(p.jsxs)("div",{className:"paint",children:[Object(p.jsxs)("fieldset",{className:"paint__inputs-fieldset",children:[Object(p.jsx)("legend",{className:"paint__inputs-legent",children:"Shapes:"}),M]}),Object(p.jsx)("canvas",{id:"canvas",width:window.innerWidth,height:window.innerHeight,onMouseDown:function(e){var a=e.clientX,i=e.clientY;if("selection"===m){var c=h(a,i,t);if(c){var l=a-c.x1,u=i-c.y1;w(Object(s.a)(Object(s.a)({},c),{},{offsetX:l,offsetY:u})),f("moving")}}else{var o=d(t.length,a,i,a,i,m);n((function(e){return[].concat(Object(r.a)(e),[o])})),f("drawing")}},onMouseMove:function(e){var a=e.clientX,n=e.clientY;if("selection"===m&&(e.target.style.cursor=h(a,n,t)?"move":"default"),"drawing"===v){var i=t.length-1,c=t[i],l=c.x1,s=c.y1;_(i,l,s,a,n,m)}else if("moving"===v){var r=O.id,u=O.x1,o=O.x2,p=O.y1,d=O.y2,f=O.type,b=a-O.offsetX,j=n-O.offsetY;_(r,b,j,b+(o-u),j+(d-p),f)}},onMouseUp:function(e){f("none"),w(null)}})]})};var j=function(){return Object(p.jsx)("div",{className:"App",children:Object(p.jsx)(b,{})})};l.a.render(Object(p.jsx)(i.a.StrictMode,{children:Object(p.jsx)(j,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.5add1d04.chunk.js.map